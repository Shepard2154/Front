{"remainingRequest":"/home/john/Documents/Projects/AudithonHack/Vue-Frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/john/Documents/Projects/AudithonHack/Vue-Frontend/src/views/Servicing-bonds.vue?vue&type=style&index=0&id=1a7f762a&scoped=true&lang=css&","dependencies":[{"path":"/home/john/Documents/Projects/AudithonHack/Vue-Frontend/src/views/Servicing-bonds.vue","mtime":1616886060943},{"path":"/home/john/Documents/Projects/AudithonHack/Vue-Frontend/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/john/Documents/Projects/AudithonHack/Vue-Frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/john/Documents/Projects/AudithonHack/Vue-Frontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/john/Documents/Projects/AudithonHack/Vue-Frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/john/Documents/Projects/AudithonHack/Vue-Frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKICAgLmJ1dHRvbiB7CiAgICBoZWlnaHQ6IDg0cHg7CiAgICB3aWR0aDogNDFweDsKICAgIGJhY2tncm91bmQ6ICNFREFDNDg7CiAgICBjb2xvcjogYmxhY2s7IAogICAgcGFkZGluZzogMTBweDsgCiAgICBib3JkZXItcmFkaXVzOiA1cHg7IAogICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOyAKICB9CgogIC5idXR0b25fc2VhcmNoIHsKICAgIGhlaWdodDogMTMyOwogICAgYmFja2dyb3VuZDogI0VEQUM0ODsKICAgIGNvbG9yOiB3aGl0ZTsgCiAgICBwYWRkaW5nOiAxMHB4OyAKICAgIGJvcmRlci1yYWRpdXM6IDVweDsgCiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CgkJdG9wOiA0NnB4OwogICAgbGVmdDogNzU1cHg7CiAgICBtaW4td2lkdGg6IDEzMnB4OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogIH0KCiAgLmRlYnRUYWJsZSB7CiAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICB3aWR0aDogOTAwcHg7CiAgICAgIGhlaWdodDogMjAwcHg7CiAgICAgIHRvcDogNzM1cHg7CiAgICAgIGxlZnQ6IDI5NHB4OwogICAgICBtYXJnaW4tdG9wOiAtMzAwcHg7CiAgICAgIG1hcmdpbi1sZWZ0OiAtMjUwcHg7CiAgfQoKICAjdG9wLWJ1dHRvbnMgewogICAgZmxvYXQ6IHJpZ2h0OwogICAgZGlzcGxheTogaW5saW5lOwogIH0KCiAgLmRhdGVfYnV0dG9uIHsKICAgIG1hcmdpbi10b3A6IDlweDsKICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTsKICAgIGNvbG9yOiAjMzc4ODlBOwogIH0KCiAgLmRhdGVfYnV0dG9uOmhvdmVyIHsKICAgIGNvbG9yOiAjNTU4ODRGOwogIH0KCiAgLmRvd25sb2FkX2J1dHRvbiB7CiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7IAogICAgY29sb3I6ICM1NTg4NEY7IAogICAgbWFyZ2luLWxlZnQ6IDI1N3B4CiAgfQoKICAuZG93bmxvYWRfYnV0dG9uOmhvdmVyIHsKICAgIGNvbG9yOiAjMzc4ODlBOwogIH0KCiAgaDQgewogICAgY29sb3I6ICMzNzg4OUE7CiAgfQo="},{"version":3,"sources":["Servicing-bonds.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"Servicing-bonds.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div>\n      <v-container style=\"width: 1500px; margin-bottom: 100px\">\n        <img id=\"title\"\n          height=\"62px\"\n          width=\"62px\"\n          style=\"float: left; margin-right: 20px\"\n          src=\"../assets/img/gerb.svg\"/>\n        <h2 style=\"font-family: Roboto;\n          font-style: normal;\n          font-weight: normal;\n          color: #7B7B7B;\"\n          >Аналитика государственного долга</h2>\n        <h3 style=\"float: left; margin-right: 20px; color: #C9C9C9; font-family: Roboto;\n          font-style: normal;\n          font-weight: normal;\"\n          >Департамент аудита финансовых рынков и государственного долга</h3>\n\n        <div id=\"top-buttons\">\n          <a href=\"#\" class=\"button\" style=\"margin-right: 10px; color: white;\">Загрузить новые данные</a>\n          <a href=\"#\" class=\"button\" style=\"margin-right: 10px; color: white; background-color: #37889A\">Рус <img src=\"../assets/img/vector1.svg\"/> </a>\n          <a href=\"#\" class=\"button\" width=\"101px\" style=\"background-color: #37889A\"><img src=\"../assets/img/glasses.svg\"/></a>\n        </div>\n      </v-container> \n\n      <v-container fluid ma-0 pa-0>\n        <img src=\"../assets/img/dark_blue_background.png\" height=\"552px\" width=\"100%\">\n        <Navbar/>\n        <v-card\n        class=\"debtTable\" \n        elevation=\"0\" \n        min-height=\"537px\"\n        min-width=\"1822px\"\n        style=\"padding: 40px; text-align: center;\"\n        outlined\n        rounded\n        raised\n        >\n        <v-row>\n          <v-col cols=6>\n            <v-text-field\n              filled\n              background-color=\"white\"\n              clearable\n              placeholder=\"Поиск...\"\n              color=\"#EDAC48\"\n              v-model=\"search\"\n              solo\n              >\n            </v-text-field>\n            <a href=\"#\" class=\"button_search\">Найти</a>\n          </v-col>\n          <v-col cols=\"3\">\n            <DatePicker v-on:get-date=\"updateData\"/>\n          </v-col>\n          \n          <v-col cols=3>\n            <v-col cols=2>\n              <v-row>\n                <v-card\n                min-width=\"325px\"\n                min-height=\"175px\" \n                outlined\n                rounded\n                raised\n                style=\"padding: 40px; width: 325px; height: 175px\">\n                  <h4>Ключевая ставка</h4>\n                </v-card>\n              </v-row>\n            </v-col>\n            \n            <v-col cols=2>\n              <v-row>\n                <v-card\n                min-width=\"325px\"\n                min-height=\"175px\" \n                outlined\n                rounded\n                raised\n                style=\"padding: 40px; width: 325px; height: 175px; margin-top: 41px\">\n                  <h4>Макроэкономические показатели</h4>\n                </v-card>\n              </v-row>\n            </v-col>\n\n          </v-col>\n        </v-row>\n        \n      <v-col cols=\"8\"\n        style=\"\n        left: 1px;\n        position: absolute;\n        top: 120px;\"\n        >\n        <v-card\n        outlined\n        style=\"width: 71%; margin-left: 28px;\"\n        >\n            <v-data-table\n              height=\"300px\"\n              width=\"500px\"\n              :headers=\"headers\"\n              :items=\"tableItems\"\n              item-key=\"name\"\n              class=\"elevation-1\"\n              :page.sync=\"page\"\n              :items-per-page=\"5\"\n              hide-default-footer\n              :search=\"search\"\n              v-if=\"loaded\"\n              @click:row=\"clicked\"\n              style = \"cursor: pointer;\"\n            >\n            </v-data-table>\n          </v-card>\n        <v-row>\n          <v-col cols=\"2\" style=\"padding-top: 21px;\">\n            <a href=\"#\" class=\"date_button\" style=\"margin-left: -27px;\"><img src=\"../assets/img/Group 24.svg\"/> Год назад</a>\n          </v-col>\n\n          <v-col cols=3>\n            <v-pagination\n            color=\"#EDAC48\"\n            v-model=\"page\"\n            :length=\"pageCount\"\n            ></v-pagination>\n          </v-col>\n          \n          <v-col cols=\"2\" style=\"padding-top: 21px;\">\n            <a href=\"#\" class=\"date_button\">Через год <img src=\"../assets/img/Group 23.svg\" style=\"vertical-align: -webkit-baseline-middle;\"/></a>\n          </v-col>\n\n          <v-col cols=\"2\" style=\"padding-top: 21px;\">\n            <a href=\"#\" class=\"date_button\">Все время</a>\n          </v-col>\n        </v-row>\n        <v-row>\n          <a href=\"#\" class=\"download_button\">Выгрузить данные в Excel</a>\n        </v-row>\n      </v-col>\n      </v-card>\n      <v-container>\n        <v-data-table\n              style=\"margin-top: 300px;cursor: pointer;\"\n              height=\"300px\"\n              width=\"500px\"\n              :headers=\"obligationHeaders\"\n              :items=\"obligationTable\"\n              item-key=\"name\"\n              hide-default-footer\n              v-if=\"obligationLoaded\"\n            >\n          </v-data-table>\n      </v-container>\n      </v-container>\n      <v-spacer></v-spacer>\n    <v-container class=\"mb-2\">\n        <BarChart :chartData=\"chartData\" :labels=\"labels\" v-if=\"loaded2\"/>\t\n    </v-container>\n    <footer>\n    <v-spacer></v-spacer>\n    <div class=\"footer-copyright text-center py-3 text\" style=\"background-color: #37889A; color: white\"> © 2021 MozhaykaTeam\n    </div>\n   </footer>\n    </div>\n</template>\n\n<style scoped>\n   .button {\n    height: 84px;\n    width: 41px;\n    background: #EDAC48;\n    color: black; \n    padding: 10px; \n    border-radius: 5px; \n    text-decoration: none; \n  }\n\n  .button_search {\n    height: 132;\n    background: #EDAC48;\n    color: white; \n    padding: 10px; \n    border-radius: 5px; \n    text-decoration: none;\n    position: absolute;\n\t\ttop: 46px;\n    left: 755px;\n    min-width: 132px;\n    text-align: center;\n  }\n\n  .debtTable {\n     position: absolute;\n      width: 900px;\n      height: 200px;\n      top: 735px;\n      left: 294px;\n      margin-top: -300px;\n      margin-left: -250px;\n  }\n\n  #top-buttons {\n    float: right;\n    display: inline;\n  }\n\n  .date_button {\n    margin-top: 9px;\n    text-decoration: none;\n    color: #37889A;\n  }\n\n  .date_button:hover {\n    color: #55884F;\n  }\n\n  .download_button {\n    text-decoration: none; \n    color: #55884F; \n    margin-left: 257px\n  }\n\n  .download_button:hover {\n    color: #37889A;\n  }\n\n  h4 {\n    color: #37889A;\n  }\n</style>\n\n<script>\nimport Navbar from \"../components/Navbar.vue\"\nimport AreaChart from \"../components/AreaChart.vue\"\nimport PieChart from \"../components/PieChart.vue\"\nimport DatePicker from \"../components/DatePicker.vue\"\nimport BarChart from \"../components/BarChart.vue\"\nimport Footer from \"../components/Footer.vue\"\n\nexport default {\n  name: 'general',\n  components: {\n    Navbar,\n    AreaChart,\n\t\tPieChart,\n    DatePicker,\n    BarChart,\n    Footer\n    },\n\n  data() {\n\t\t\treturn{\n\t\t\t\tlogged: false,\n\t\t\t\tloaded: false,\n\n        obligationTable: null,\n        obligationLoaded: false,\n        obligationHeaders: [\n          { text: 'Наименование', sortable: false, value: 'Наименование:'},\n          { text: 'Состояние выпуска', sortable: false, value: 'Состояние выпуска:'},\n          { text: 'Данные госрегистрации', sortable: false, value: 'Данные госрегистрации:'},\n          { text: 'Номинал', sortable: false, value: 'Номинал:'},\n          { text: 'Текущая стоимость', sortable: false, value: 'Текущая стоимость'},\n          { text: 'Объем эмиссии, шт.', sortable: false, value: 'Объем эмиссии, шт.:'},\n          { text: 'Объем эмиссии , руб.', sortable: false, value: 'Объем эмиссии:'},\n          { text: 'Объем в обращении, шт.', sortable: false, value: 'Объем в обращении, шт:'},\n          { text: 'Период обращения, дней', sortable: false, value: 'Период обращения, дней:'},\n          { text: 'Дата начала размещения', sortable: false, value: 'Дата начала размещения:'},\n          { text: 'Дата окончания размещения', sortable: false, value: 'Дата окончания размещения:'},\n          { text: 'Дата погашения', sortable: false, value: 'Дата погашения:'},\n          { text: 'Дней до погашения', sortable: false, value: 'Дней до погашения:'},\n          { text: 'Периодичность выплат в год', sortable: false, value: 'Периодичность выплат в год:'},\n          { text: 'Текущий купон (всего)', sortable: false, value: 'Текущий купон (всего):'},\n          { text: 'Дата выплаты купона', sortable: false, value: 'Дата выплаты купона:'},\n          { text: 'Размер купона, % годовых', sortable: false, value: 'Размер купона, % годовых:'},\n          { text: 'НКД', sortable: false, value: 'НКД:'},\n        ],\n\n\t\t\t\tdomesticData: [],\n\t\t\t\texternalData: [],\n        labels: [],\n\t\t\t\tchartData: [],\n\n        search: '',\n        page: 1,\n        pageCount: 0,\n        headers: [\n          { text: 'Выпуск', value: 'name'},\n          { text: 'Полное наименование', value: 'fullname'},\n          { text: 'Наименование', sortable:false, value: 'name'},\n          { text: 'Категория ЦБ', value: 'kind'},\n          { text: 'Номинал погашения', value: 'cost'},\n          { text: 'Купонный доход, %', value: 'percent'},\n        ],\n        tableItems: [],\n\t\t\t}\n  },\n\n  methods:{\n    checkLogging(){\n      if (this.$store.state.token) {\n        this.logged = true \n        console.log(\"Logged!\")\n      }\n      else {\n        console.log(\"Unauthorized!\")\n      }\n    },\n\n    async drawCharts(){\n      await axios.get(`${this.$store.state.backendUrl}/invest/plot/<int:obligation_id>/`\n          ).then(response => {\n            this.domesticData = Object.values(response.data[\"domestic_debt_2020\"])\n            this.externalData = Object.values(response.data[\"external_debt_2020\"])\n            this.labels = Object.keys(response.data[\"domestic_debt_2020\"])\n          })\n    },\n\n    async getTableData(dateBefore=\"\", dateAfter=\"\"){\n      let url=`${this.$store.state.backendUrl}/obligations/`\n      if (dateBefore!=null && dateAfter!=null) url=`${this.$store.state.backendUrl}/obligations/?date_before=${dateBefore}&date_after=${dateAfter}`\n\t\t\tawait axios.get(url\n          ).then(response => {\n            console.log(response)\n            this.tableItems = response.data\n            this.pageCount = Math.ceil(this.tableItems.length / 5)\n            this.loaded = true\n\t\t\t})\n    },\n\n    updateData: function (datesPicker) {\n      this.getTableData(datesPicker[1], datesPicker[0])\n    },\n\n    clicked: function(item) {\n      axios.get(`${this.$store.state.backendUrl}/invest/${item[\"id\"]}/`\n        ).then(response => {\n          this.obligationTable = {\"Текущая стоимость\": response.data[\"c\"]}\n        }) \n      axios.get(`${this.$store.state.backendUrl}/invest/detail/${item[\"id\"]}/`\n          ).then(response => {\n            this.obligationTable = [Object.assign(this.obligationTable, response.data)]\n            console.log(this.obligationTable)\n            this.obligationLoaded = true\n\t\t\t  })\n      axios.get(`${this.$store.state.backendUrl}/invest/plot/${item[\"id\"]}/`\n          ).then(response => {\n            for (let i=0; i<response.data.length; i++){\n              this.labels.push(response.data[i][\"time\"])\n              this.chartData.push(response.data[i][\"c\"])\n            }\n            console.log(this.chartData)\n            console.log(this.labels)\n            this.loaded2 = true\n          })\n    }\n  },\n\n  mounted(){\n    this.getTableData()\n  },\n}\n</script>"]}]}